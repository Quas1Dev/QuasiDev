var e,n,l,t,r,i,s,c,a,o,u,d,v,f,y=[],E=!0,S=0;function L(){E=!0}function m(e,t){!0===E&&(E=!1,q(1),_(S,1),S++,g(1,o=n.querySelector(".current-slide"),o.nextElementSibling),h(1,u=i.querySelector(".current-slide"),u.nextElementSibling),null!=t&&t.classList.contains("current-slide")&&(clearInterval(d),v=setInterval(m,5e3)))}function I(e,t){!0===E&&(E=!1,-1==--S&&(S=a-1),q(0),_(S,0),g(0,o=n.querySelector(".current-slide"),o.previousElementSibling),h(0,u=i.querySelector(".current-slide"),u.previousElementSibling),null!=t&&(clearInterval(),t.classList.contains("current-slide")&&(clearInterval(d),v=setInterval(m,5e3))))}function q(e){for(var t=0;t<a;t++)f=0===e?y[t]+c:y[t]-c,l[t].style.opacity="1",l[t].style.transform="translateX("+f+"px)",y[t]=f}function _(e,t){var n=e%a,e=l[n];f=0===t?y[n]-c*a:y[n]+c*a,e.style.opacity="0",e.style.transform="translateX("+f+"px)",y[n]=f}function g(e,t,n){null===n&&(n=1===e?l[0]:l[a-1]),t.classList.remove("current-slide"),n.classList.add("current-slide")}function h(e,t,n){null===n&&(n=1===e?s[0]:s[a-1]),t.classList.remove("current-slide"),n.classList.add("current-slide")}function p(e){var t,n,r=e.target.closest(".carousel__indicator");r&&(t=s.findIndex(function(e){return e===r}),n=s.findIndex(function(e){return e===i.querySelector(".current-slide")}),e=t!=s.length-1?t+1:0,t!=n&&(t<n?(clearInterval(v),d=setInterval(I,300,null,l[e])):n<t&&(clearInterval(v),d=setInterval(m,300,null,l[e]))))}window.addEventListener("DOMContentLoaded",function(){e=document.querySelector(".carousel"),c=parseInt(window.getComputedStyle(e).width,10),t=e.querySelector(".carousel__button--right"),r=e.querySelector(".carousel__button--left"),(n=e.querySelector(".carousel__track")).insertBefore(n.children[3],n.children[0]),l=Array.from(n.children),i=e.querySelector(".carousel__nav"),s=Array.from(i.children),a=l.length,l.forEach(function(e,t){e.style.transform="translateX("+(c*t-c)+"px)",y[t]=c*t-c,e.addEventListener("transitionend",L),e.addEventListener("webkitTransitionEnd",L),e.addEventListener("oTransitionEnd",L),e.addEventListener("MSTransitionEnd",L)}),t.addEventListener("click",m),r.addEventListener("click",I),i.addEventListener("click",p)}),v=setInterval(m,5e3);
//# sourceMappingURL=infinity-carousel.js.map