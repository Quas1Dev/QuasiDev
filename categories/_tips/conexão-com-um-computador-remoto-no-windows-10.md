---
title: Conexão com um Computador Remoto no Windows 10
layout: article
permalink: /windows/:title
description: Aprenda a usar os programas nativos do Windows para controlar um
  computador remotamente.
categories:
  - Windows
tags:
  - comexão-remota
  - suporte
date: 2022-07-23T12:00:14.065Z
lastUpdated: 2022-07-24T01:28:16.924Z
author: Fernando Bonfim
excerpt_separator: <!--more-->
sources:
  - url: "https://docs.microsoft.com/en-us/windows/win32/termserv/remote-desktop-pr\
      otocol "
    title: Remote Desktop Protocol - Microsoft
  - url: https://docs.microsoft.com/en-us/security-updates/SecurityBulletins/2012/ms12-020?redirectedfrom=MSDN
    title: Microsoft Security Bulletin MS12-020 - Critical - Microsoft
secondary-sources:
  - title: How to Use Remote Desktop Connection Windows 10 - ProgrammingKnowledge2 -
      YouTube
    url: "https://youtu.be/LmnMRCixwLU "
  - url: "https://youtu.be/gsP46ltENRY "
    title: How to Use Remote Desktop Connection Windows 10 - Britec09 - YouTube
  - title: How to setup VPN with Remote Desktop on Windows 10 - Elena Constantinescu
      - Windows Report
    url: https://windowsreport.com/vpn-remote-desktop-windows-10/
  - url: https://en.wikipedia.org/wiki/Proprietary_protocol
    title: Proprietary protocol - Proprietary Protocol - Wikipedia
  - url: "https://en.wikipedia.org/wiki/Communication_protocol "
    title: Communication protocol - Wikipedia
  - url: "https://www.techopedia.com/definition/3422/remote-desktop-protocol-rdp "
    title: Remote Desktop Protocol (RDP) - Techopedia
  - url: https://www.ericom.com/whatis/rdp/
    title: What is RDP? - Ericom
  - title: What is the Remote Desktop Protocol (RDP)? - Cloudflare
    url: "https://www.cloudflare.com/pt-br/learning/access-management/what-is-the-r\
      emote-desktop-protocol/   "
  - url: https://en.wikipedia.org/wiki/Remote_Desktop_Protocol#cite_note-MSRDPERP-31
    title: Remote Desktop Protocol - Wikipedia
  - url: "https://searchenterprisedesktop.techtarget.com/definition/Remote-Desktop-\
      Protocol-RDP "
    title: Remote Desktop Protocol (RDP) - Search Enterprise Desktop
  - url: "https://youtu.be/znIjk-7ZuqI "
    title: What are Network Protocols? Here's Why They're Important - Eye on Tech -
      YouTube
  - url: "https://www.windowscentral.com/how-use-remove-desktop-app-connect-pc-wind\
      ows-10-0 "
    title: How to use Remote Desktop app to connect to a PC on Windows 10 - Windows
      Central
  - url: https://www.howtogeek.com/131961/how-to-access-windows-remote-desktop-over-the-internet/
    title: How to Access Windows Remote Desktop Over the Internet - How to Geek
  - url: "https://docs.microsoft.com/en-us/windows-server/remote/remote-desktop-ser\
      vices/clients/remote-desktop-clients "
    title: Remote Desktop clients - Microsoft
  - url: https://lifehacker.com/how-to-find-your-local-and-external-ip-address-5833108
    title: How to find your local and external IP address - Lifehacker
  - url: https://www.whatismyip.com
    title: What Is My Public IP Address? - WhatIsMyIP.com
  - url: "https://social.technet.microsoft.com/Forums/Azure/en-US/4d53b2af-fb74-42a\
      8-8ddf-48244369f4c7/the-identity-of-the-remote-computer-cannot-be-verifie\
      d-do-you-want-to-connect-anyway?forum=winservergen "
    title: the identity of the remote computer cannot be verified. Do you want to
      connect anyway - Technet
  - url: "http://www.tst.jus.br/documents/23101476/23231488/Manual+de+acesso+remoto\
      +ao+TST.pdf/a2cc01bb-b580-d268-2551-5e498bf74430?t=1585068346698 "
    title: Manual de acesso remoto à rede do TST - Justiça do Trabalho
  - url: "https://thegeekpage.com/solved-the-remote-computer-requires-network-level\
      -authentication/#:~:text=1%5D%20Press%20Win%20%2B%20R%20to,Level%20Authen\
      tication%20(recommended).%E2%80%9D "
    title: "[Solved] The remote computer requires network level authentication - The
      Geek Page"
  - url: https://social.technet.microsoft.com/Forums/lync/en-US/da151755-edd1-4a54-b9ff-083acf023e06/remote-desktop-connection-using-ipv6-address-and-custom-port?forum=winserverT
    title: Remote Desktop Connection using IPv6 address and custom port - Respondido
      por sejong - Technet
  - url: "https://www.reddit.com/r/sysadmin/comments/binq8o/difference_between_micr\
      osofts_remote_desktop_and/ "
    title: Difference between Microsoft's Remote Desktop and Remote Desktop
      Connection? - Respondido por QuillanFae - Reddit
  - url: https://en.wikichip.org/wiki/cve
    title: Common Vulnerabilities and Exposures (CVE) - Wikichip
  - url: " https://support.google.com/websearch/answer/1696588"
    title: How IP addresses work on Google - Google Search Help
  - url: "https://networkengineering.stackexchange.com/questions/30051/is-it-safe-t\
      o-publish-the-ipconfig-ifconfig-results "
    title: Is it safe to publish the ipconfig/ifconfig results? [closed] - Law29 -
      Stack Exchange
  - url: https://youtu.be/2G1ueMDgwxw
    title: Port Forwarding Explained - PowerCert Animated Videos
  - url: "https://docs.microsoft.com/en-us/azure/virtual-machines/windows/connect-l\
      ogon "
    title: How to connect and sign on to an Azure virtual machine running Windows -
      Microsoft
  - title: "[VIDEO] Understanding Remote Desktop Protocol Threats - Martin Lemay -
      Devolutions"
    url: "https://blog.devolutions.net/2018/07/understanding-remote-desktop-protoco\
      l-threats "
  - url: "https://www.cloudflare.com/pt-br/learning/access-management/rdp-security-\
      risks/ "
    title: What are the security risks of RDP? | RDP vulnerabilities - Cloudflare
  - url: https://serverfault.com/questions/698462/is-it-safe-to-change-the-rdp-port#:~:text=Don't%20try%20to%20change,the%20RDP%20standard%20port%203389.
    title: Is it safe to change the RDP port? - Respondido por gerryLowry -
      Serverfault
  - url: "https://en.wikipedia.org/wiki/Tamperproofing "
    title: Tamperproofing - Wikipedia
  - url: https://duo.com/
    title: Protect your workforce with simple, powerful access security. - Duo
  - url: "https://community.spiceworks.com/topic/2138256-how-to-setup-vpn-for-rdp-a\
      nd-why "
    title: How to setup VPN for RDP and why? - Spice Works
  - url: https://windowsreport.com/vpn-remote-desktop-windows-10/
    title: How to setup VPN with Remote Desktop on Windows 10 - Windows Repor
  - url: https://nordvpn.com/pt-br/blog/vpn-vs-rdp/
    title: "VPN vs RDP: what’s the difference? - NordVPN"
  - url: "https://www.quora.com/Do-you-need-a-VPN-router-if-you-already-have-a-VPN-\
      Service "
    title: Do you need a VPN router if you already have a VPN Service? - Quora
  - title: Can VPNs Be Hacked? We Did The Research, Here’s the 2021 Guide - VPN Mentor
    url: https://www.vpnmentor.com/blog/can-vpns-hacked-take-deeper-look/
  - title: Difference between External/Internal Start/End port? - Respondido por
      Alvy - Superuser
    url: "https://superuser.com/questions/659795/difference-between-external-intern\
      al-start-end-port "
  - url: "https://www.computerhope.com/jargon/c/channel.htm "
    title: Channel - Computer Hope
  - title: Why does remote desktop not work for me by computer name, and only by IP?
      - Respondido por vpram86 - Superuser
    url: "https://superuser.com/questions/52109/why-does-remote-desktop-not-work-fo\
      r-me-by-computer-name-and-only-by-ip "
  - url: https://www.youtube.com/watch?v=GCamvUsGgGc
    title: Remote desktop connection using Virtual Box - YouTube
  - url: "https://www.nakivo.com/blog/virtualbox-network-setting-guide/#:~:text=Vir\
      tualBox%20network%20adapter%20settings%20can,default%20after%20virtual%20\
      machine%20creation. "
    title: "VirtualBox Network Settings: Complete Guide - Nakivo"
---
As vezes você precisa fazer alguma atividade em um computador que só pode ser feita com você sentado na frente dele. Para essas situações a Microsoft disponibiliza um programa chamado **Conexão de Área de Trabalho Remota**, que vem instalado junto do Windows e antigamente se chamava Terminal Services Client, ou o aplicativo **Área de Trabalho Remota**, que está disponível para download gratuito na Microsoft Store. 

Ambos possibilitam que o computador reproduza em uma janela exatamente o que está se passando na interface gráfica do computador remoto a que está se conectando, além de permitir a interação com essa representação exata seja transmitida de volta para o computador remoto.

{% include post_img.html

png="/assets/imgs_posts/windows/win-rdp/win-rdp-illustration-connection.png"

webp="/assets/imgs_posts/windows/win-rdp/win-rdp-illustration-connection.webp"

alt="A tela de um computador A aparecendo na janela do programa Área de Trabalho Remota no computador B."

align="center"

%}

O aplicativo Área de Trabalho Remota é uma versão melhorada do programa Conexão de Área de Trabalho Remota. Ele oferece novas ferramentas, uma interface adequada para dispositivos móveis, melhorias na performance que otimizam a conexão, e permite a conexão com mais de um computador ao mesmo tempo.

Os dois programas executam a comunicação cliente-servidor de acordo de acordo com o protocolo Remote Desktop Protocolo (RDP). Esse é um {% include postLink.html text="protocolo de comunicação" url="https://bit.ly/3B8gxuT" %} criado pela Microsoft para facilitar  a conexão de um usuário com um computador remoto. Esse protocolo permite que o usuário utilize uma interface gráfica para controlar outro computador. Nesse sentido, estando em uma máquina A, é possível ver e interagir com todos os softwares, arquivos e pastas de uma máquina B. 

<section class="extra-box-02">

<h3> Glossário </h3>
  <dl>
    <dt>Protocolo de Comunicação</dt> 

   <dd>Um protocolo de comunicação é um conjunto de regras que determinam como ocorre a troca de dados entre duas ou mais entidades em um sistema de comunicação.</dd> 
   </dl> 
</section>

Perceba que a máquina pode ser virtual. Uma <dfn>{% include postLink.html text="máquina virtual" url="https://pt.wikipedia.org/wiki/M%C3%A1quina_virtual" %} </dfn> ou computador virtual é um software que age como um computador, no qual podemos instalar um sistema operacional, jogos, criar e excluir arquivos e pastas, e qualquer outra coisa que se possa fazer com um computador físico. Podemos criar uma máquina virtual  usando softwares como o VirtualBox.

A fim de realizar essa conexão, é necessário que o agente que inicia a conexão tenha um programa cliente RDP na máquina. Já o PC que será acessado deve possuir um programa servidor RDP, que da permissão para a conexão do usuário. O computador que está usando o programa cliente pode ser chamado de computador cliente, enquanto a máquina com o programa servidor pode ser chamado de computador servidor. Quando conectado, o usuário poderá ver a área de trabalho do computador remoto, bem como utilizar seus recursos como se estivesse de frente a ele através do programa cliente RDP.

## Como o RDP funciona?

Os dados produzidos pelo mouse e teclado no computador cliente são transmitidos de acordo com as regras do protocolo para o computador servidor, que envia de volta dados que ajudam o computador cliente a reconstruir o que aparece na tela do computador remoto.

Quando uma conexão entre duas máquinas é iniciada. um canal dedicado é criado para a transmissão de dados entre os envolvidos: o computador remoto e o computador cliente que está sendo usado pelo usuário. O movimento do mouse, o pressionamento de uma tecla, um programa se abrindo, e qualquer outro dado é entregue por esse canal. 

<section class="extra-box-02"> 

<dl>

<h3> Glossário </h3>
    <dt>Canal dedicado?</dt> 
    <dd>Um canal é um caminho em que os dados podem fluir da fonte para o destino. Ele pode ser físico ou lógico. Um canal é dedicado quando possuí um único objetivo. </dd> 
 </dl> 
</section>

A interação do usuário com o computador remoto pode sofrer um pouco de delay. Isso por que os dados trocados entre as máquinas precisam ser encriptados e percorrer uma certa distância para chegar ao destino. Dessa forma, ao clicar duas vezes para abrir um programa, o clique duplo não será comunicado instantaneamente para o computador remoto, e o aplicativo aberto somente será percebido pelo usuário quando os dados comunicados pelo servidor RDP chegarem no computador do usuário. A demora pode ser ainda maior quando a conexão for feita através da internet e ela for lenta.

## Características

Entre as características do RDP, podemos citar:

* Encriptação dos dados enviados por mouse e teclado com uma chave de 128-bit;
* Suporte a cores de 32-bit ou menos;
* Redirecionamento de áudio: o áudio do computador remoto é redirecionado para o computador do usuário;
* Redirecionamento de impressora: os aplicativos do computador remoto pode usar a impressora do computador remoto;
* Redirecionamento de sistema de arquivos: os arquivos do computador cliente podem ser transferidos para o computador servidor;
* Redirecionamento de {% include postLink.html text="porta" url="https://bit.ly/3yZBXHX)" %}: as portas do computador local podem ser usadas pelos aplicativos do computador remoto, isso significa que os aplicativos possuem acesso aos periféricos conectados no computador local;
* Suporta diferentes topologias de rede;
* Compartilhamento de área de transferência entre o servidor remoto e um cliente local;
* Os aplicativos de um computador remoto podem ser executados em uma máquina cliente;
* Utiliza técnicas de redução de banda para otimizar a taxa de transferência em internet de baixa conexão;
* É possível se desconectar temporariamente sem deslogar.

## Segurança

O RDP não está imune a ataques, e como ele é utilizado com o sistema de computação Azure para o acesso de usuários a máquinas virtuais disponibilizados online, hackers estão constantemente buscando maneiras de burlar a segurança do protocolo. 

Sendo assim, é especialmente importante adotar hábitos de proteção. Medidas simples como definir a autenticação em dois passos, criar senhas fortes, e trancar a porta 3389 quando ela não for necessária, podem fazer uma grande diferença para evitar transtorno. Além disso, a Microsoft eventualmente lança atualizações que corrigem erros encontrados no RDP. É importante instalar essas atualizações para manter esse protocolo no seu melhor estado. Algumas dicas de segurança podem ser encontradas no texto {% include postLink.html text="Quais são os riscos de segurança do RDP? | Vulnerabilidades do RDP" url="https://bit.ly/3PtLnmb" %};

Muitas vulnerabilidades já foram encontradas e exploradas por hackers. Em 2005 veio a publico um ponto fraco do RDP 5.1 que permitia um ataque conhecido como {% include postLink.html text="man-in-the-middle" url="https://en.wikipedia.org/wiki/Man-in-the-middle_attack" %}, em que o atacante &#8212; aquele que realiza o ataque &#8212; intercepta os dados trocados entre os envolvidos em uma comunicação. Em outra ocasião, em 2012, a Microsoft lançou um atualização de segurança para impedir alguém mal intencionado pudessem executar códigos remotamente ao enviar pacotes de dados especialmente definidos. Já em 2019 foi descoberto uma vulnerabilidade chamada de “BlueKeep” que, novamente, permitia a execução de códigos de forma remota. Todas essas vulnerabilidades já foram corrigidas pela Microsoft com a disponibilização de patches de segurança, o que evidencia a importância de manter o RDP atualizado com a versão mais recente.

As versões mais recentes do protocolo estão bem mais seguras. Nas versões mais recentes do Windows, é possível especificar quais usuários podem ter acesso via RDP. Existe também a possibilidade de impedir o acesso remoto de qualquer computador que não esteja usando Autenticação no Nível da Rede.

## Utilização

Para usar o RDP é preciso ter certeza que o computador remoto tenha a versão do Windows diferente da versão home ou uma das versões para servidor. Não é possível, oficialmente, se conectar com Windows 10 Home usando o RDP, embora existam programas disponibilizados na internet que prometem remover essa restrição. 

Vamos começar vendo como acessar as configurações do roteador, e também como identificar o endereço de IP interno e externo da máquina. Depois vamos configurar o computador remoto para aceitar a conexão. Por último vamos fazer a conexão via internet e rede local.

### Acessar as Configurações do Roteador

Siga os passos abaixo sempre que for necessário acessar as configurações do roteador:

1 - Na caixa de pesquisa do Windows digite CMD;

2 - Selecione o programa “Prompt de Commando”;

3 - Digite `IPCONFIG`;

4 - Identifique o número correspondente ao “Gateway Padrão”;

{% include post_img.html

png="/assets/imgs_posts/windows/win-rdp/win-rdp-access_config_router_step-four.png"

webp="/assets/imgs_posts/windows/win-rdp/win-rdp-access_config_router_step-four.webp"

alt="Resultado do comando ipconfig com o Gateway Padrão em destaque."

align="center"

%}

5 - Em um navegador qualquer, digite o número anotado na barra de endereços e pressione enter;

{% include post_img.html

png="/assets/imgs_posts/windows/win-rdp/win-rdp-access_config_router_step-five.png"

webp="/assets/imgs_posts/windows/win-rdp/win-rdp-access_config_router_step-five.webp"

alt="Acessando o roteador pelo navegador."

align="center"

%}

6 - Entre com o nome de usuário e senha do roteador. Se nada foi alterado, esses dados provavelmente estão escritos em uma etiqueta em baixo do roteador. Para alguns modelos de roteadores, nada é solicitado nesse momento, mas quando você tentar mexer em alguma configuração ele vai pedir.

### Identificação do IP do Computador

Para realizar uma conexão remota, é necessário conhecer o endereço de IP (Internet Protocol) da máquina. Em uma configuração normal &#8212; no qual o computador é conectado a um roteador, e que por sua vez é conectado a um modem &#8212; o PC ganha dois endereços de IP, sendo um interno/local e o outro externo/público. O primeiro é usado para sua identificação dentre outros dispositivos conectados a uma mesma {% include postLink.html text="rede local" url="https://bit.ly/3OyTtZo" %}, como a formada quando são conectados vários dispositivos em um mesmo roteador. Já o segundo serve para identificar um dispositivo que está conectado a internet.

Para encontrar o IP interno, você pode:

1 - Procurar nas [configurações do roteador](#acessar-as-configurações-do-roteador). Onde exatamente esse número está. vai depender da marca e modelo do aparelho, então consulte o site da fabricante para obter informações especificas. 

2 - Também podemos achar o endereço usando o [CMD](https://tecnologiaeinformacao.netlify.app/batch/batch-intro-to-batch-ptbr#o-que-%C3%A9-prompt-de-comando-cmd) - uma ferramenta de linha de comando do Windows.

* Clique no botão iniciar e digite CMD, e clique n selecione o “Prompt de Comando” para abrir o programa;
* Insira o código `IPCONFIG` e aperte Enter;
* No resultado, identifique e anote os números correspondentes ao endereço IPv4 ou IPv6.

Se o computador remoto ao qual vai se conectar está na mesma rede que o seu, você pode ir direto para a seção sobre [Configuração para o Acesso Remoto na Mesma Rede](#configuração-para-o-acesso-remoto-na-mesma-rede)[](#conexão).

Caso contrário, você vai precisara de um endereço de IP externo, que será o endereço do roteador pelo qual o computador remoto se conecta à internet. O IP externo pode ser encontrado de diversas maneiras, entre elas:

1 - Procurando nas [configurações do Roteador](#acessar-as-configurações-do-roteador); 
2 - Acessar o buscador Google e pesquisar por “What is my ip”;
2 - Visitar o site {% include postLink.html text="WhatIsmyIP.com" url="www.whatismyip.com" %} &#8212;  a informação que você precisa aparece logo no topo da página, onde diz “My public IPv6 is:” ou “My public IPv4 is:”. 

### Configuração para o Acesso Remoto na Mesma Rede

No computador remoto nós precisamos realizar o preparo para a conexão, seguindo os passos a seguir:

1 - Vá em Iniciar > Configurações > Sistema -> Sobre, e selecione “Habilitar Área de Trabalho Remota”, para permitir a conexão remota.

{% include post_img.html

png="/assets/imgs_posts/windows/win-rdp/win-rdp-config-to-remote-access-same-network-step_one.png"

webp="/assets/imgs_posts/windows/win-rdp/win-rdp-config-to-remote-access-same-network-step_one.webp"

alt="Ativando o servidor Área de Trabalho Remota nas configurações."

align="center"

%}

2 - É preciso garantir que o firewall não bloqueie a conexão. Para tanto, vá em configurações, e na caixa de pesquisa digite firewall. Dos resultados, selecione “Permitir um aplicativo pelo Firewall do Windows”. Na tela que se abrir, clique no botão “Alterar Configurações” para ativar a edição das configurações. Procure pela opção “Área de Trabalho Remota” e marque os quadrados vazios que estiverem ao seu lado.

{% include post_img.html

png="/assets/imgs_posts/windows/win-rdp/win-rdp-config-to-remote-access-same-network-step-two.png"

webp="/assets/imgs_posts/windows/win-rdp/win-rdp-config-to-remote-access-same-network-step-two.webp"

alt="Uma lista dos recursos permitidos pelo firewall."

align="center"

%}

Uma vez que os passo anteriores sejam executados, o computador está pronto para ser acessado por outro computador na **mesma rede local**. Nesse caso, pode seguir a partir da seção [Conexão](#conexão).

### Configuração para o Acesso via Internet

Para que seja possível controlar remotamente um computador usando o RDP, é preciso fazer o redirecionamento de porta no roteador, ou configurar um servidor VPN (método mais seguro);

### Redirecionamento de Porta

Quando o cliente quer se conectar com o servidor, ele precisa enviar um pedido para um IP público, com um numero de porta especifico. O IP público é um endereço que permite o cliente encontrar dispositivos pela internet, como um roteador por exemplo. Uma porta é uma conexão lógica usada por programas e serviços para troca de informações;  cada porta corresponde a um software ou serviço especifico em um computador. Nesse caso, a porta correspondente ao programa servidor RDP é a 3389.  

Uma vez que o roteador recebe uma solicitação pela porta 3389, este precisa saber para onde redireciona-la. É ai que entra o redirecionamento de porta. Nós informamos ao roteador que ele deve redirecionar as solicitações para uma máquina especifica.

Atenção <i class="icon-warning-sign"></i>: manter a funcionalidade de área de trabalho remota ativada e abrir portas pode permitir que indivíduos mal-intencionados obtenham acesso ao computador. Garanta a utilização de uma senha forte quando precisar usar esse serviço, e além disso remova o redirecionamento de portas e desative a área de trabalho remota quando não estiver usando.

Para configurar o redirecionamento de porta os passos podem variar de acordo com a fabricante e o modelo do seu roteador. Contudo, você pode usar os passos a seguir como uma referencia para configurar o seu roteador. Você pode checar o site da fabricante para mais detalhes de como isso pode ser feito no seu aparelho. 

Aqui eu vou fazer a modificação no modem-roteador da ASKEY, modelo RTA9227W.

1 - Identifique o IP Interno da máquina;

2 - Entre nas configurações do roteador;

3 - Procure por uma seção “Redirecionar portas”, ou algo parecido. Nesse caso, podemos encontrar essa opção indo em Configurações > Rede local. 

{% include post_img.html

png="/assets/imgs_posts/windows/win-rdp/win-rdp-forwarding-multiple-ports.png"

webp="/assets/imgs_posts/windows/win-rdp/win-rdp-forwarding-multiple-ports.webp"

alt="Interface gráfica do roteador. Setas apontam para as opções configurações, rede local, redirecionamento de porta. Isso reflete a ordem em que elas são selecionadas. "

align="center"

%}

4 - Configure um novo redirecionamento de porta com as informações requisitadas. Por exemplo:
Protocolo: TCP
Porta interna: 3389
Porta externa: 3389
IP interno: insira o IP interno da máquina identificado no passo 1.

5 - Salve a configuração.

Você pode definir uma **porta externa** diferente de 3389. Toda solicitação para essa nova porta seria redirecionado para a porta 3389 do computador remoto. Por exemplo, podemos usar a porta 55.001 para fazer o roteador redirecionar toda solicitação por essa porta para a porta 3389 do computador remoto.  

Mudar a porta externa é necessário quando precisamos disponibilizar mais de um computador para ser acessado remotamente pela internet. Para isso nós definimos no roteador diferentes portas externas para cada máquina, como na imagem abaixo:

{% include post_img.html

png="/assets/imgs_posts/windows/win-rdp/win-rdp-forward-table.png"

webp="/assets/imgs_posts/windows/win-rdp/win-rdp-forward-table.webp"

alt="Tabela de redirecionamento com as portas externas e as respectivas portas internas,"

align="center"

%}

O roteador foi configurado para escutar portas diferentes, e redirecionar as solicitações para a porta 3389 de diferentes destinos.

A **porta interna** deve permanecer como 3389. a menos que você modifique qual porta o servidor RDP usa para trocar dados. 

Agora o computador remoto está pronto para receber o acesso através da internet.  

### Conexão

Uma vez que o sistema operacional da máquina remota está ok, e você possuí o [endereço de IP dela](#identificação-do-ip-do-computador), nós podemos prosseguir para a realização do contato através do computador local, O processo no computador local é o mesmo tanto para se conectar à um computador na mesma rede, quanto para se conectar a um computador pela internet.

Nós vamos usar ambos os programas Conexão de Área de Trabalho Remota e Área de Trabalho Remota como cliente RDP.

#### Usando o Conexão de Área de Trabalho Remota

1 - No computador que vai realizar a conexão, clique no menu iniciar e procure por “Conexão de Área de Trabalho Remota” e selecione o aplicativo que aparece com esse mesmo nome; 

2 - Digite o endereço de IP interno ou externo verificado anteriormente e pressione o botão conectar. Se o computador remoto estiver na mesma rede, use IP interno ou o nome do computador. Caso contrário, utilize o IP externo;

{% include post_img.html

png="/assets/imgs_posts/windows/win-rdp/win-rdp-remote-desktop-connection-step-two-a.png"

webp="/assets/imgs_posts/windows/win-rdp/win-rdp-remote-desktop-connection-step-two-a.webp"

alt="Tela inicial do Conexão de Área de Trabalho Remota. O campo computador está marcado com um retangulo, enquanto uma seta aponta para o botão Conectar"

align="center"

%}

Note: Geralmente, esse software solicita o contato pela porta 3389. Mas caso a conexão seja pela internet e tenha definido uma porta externa diferente, é necessário especificá-la nesse momento. Para isso, adicione :&lt;porta externa&gt; ao final do IP externo do dispositivo, em que &lt;porta externa&gt; é o valor definido para o campo “Porta externa” ao configurar o redirecionamento de portas.

3 - Digite o nome de usuário e senha do usuário da máquina remota, e então clique em Ok;

{% include post_img.html

png="/assets/imgs_posts/windows/win-rdp/win-rdp-using-remote-desktop-connection-step-three.png"

webp="/assets/imgs_posts/windows/win-rdp/win-rdp-using-remote-desktop-connection-step-three.webp"

alt="Tela para digitar o login e a senha da máquina remota."

align="center"

%}

4 - Vai aparecer uma mensagem informando que “Não foi possível verificar a identidade do computador remoto.\[...]”, você pode confirmar a conexão sem problemas. Isso somente alerta que não foi encontrado um certificado digital, ou pelo menos um confiável, que confirme que o computador remoto o qual você está se conectando é de fato o servidor a que você queria se conectar;

{% include post_img.html

png="/assets/imgs_posts/windows/win-rdp/win-rdp-using-remote-desktop-connection-step-four.png"

webp="/assets/imgs_posts/windows/win-rdp/win-rdp-using-remote-desktop-connection-step-four.webp"

alt="Aviso de que nenhuma credencial válida foi apresentada."

align="center"

%}

Seguidos os passos, deve ser aberta uma interface gráfica que irá reproduzir o que aparece na tela do computador remoto. Agora você pode fazer o que quiser com tudo que está instalado nesse computador remoto.

Note que, enquanto você controla o computador remoto, este fica “travado” na tela de login. Se por acaso alguém logar nesse computador remoto, a conexão com o PC local se perderá, e será preciso usar o IP, usuário e senha para retomar a conexão. 

Para encerar uma conexão, basta fechar a janela.

Você pode alterar varias opções de configuração do software clicando em “Mostrar Opões”, que aparece na parte de baixo da janela inicial. Navegue pelas abas para se familiarizar com elas.

Usando o Área de Trabalho Remota

Agora vamos usar um aplicativo mais novo, o Área de Trabalho Remota:

1 - Na caixa de pesquisa do Windows procure por “Microsoft Store”;

2 - Clique na lupa do lado superior direito da tela para pesquisar por um aplicativo, e digite “Área de Trabalho Remota”;

3 - Dos resultados, selecione o aplicativo “Área de Trabalho Remota da Microsoft”;

4 - Clique em “Obter” para realizar o download e instalação;

{% include post_img.html

png="/assets/imgs_posts/windows/win-rdp/win-rdp-remote-desktop-app-step-four.png"

webp="/assets/imgs_posts/windows/win-rdp/win-rdp-remote-desktop-app-step-four.webp"

alt="Tela para download do Área de Trabalho Remota, o novo aplicativo da Microsoft."

align="center"

%}

5 - Abra o aplicativo;

{% include post_img.html

png="/assets/imgs_posts/windows/win-rdp/win-rdp-remote-desktop-app-step-five.png"

webp="/assets/imgs_posts/windows/win-rdp/win-rdp-remote-desktop-app-step-five.webp"

alt="Janela do Área de Trabalho Remota aberta pela primeira vez. São apresentadas algumas instruções para iniciar uma nova seção."

align="center"

%}

6 - Clique em Adicionar > Computadores, para adicionar informações de um computador a que pretende se conectar;

{% include post_img.html

png="/assets/imgs_posts/windows/win-rdp/win-rdp-remote-desktop-app-step-six.png"

webp="/assets/imgs_posts/windows/win-rdp/win-rdp-remote-desktop-app-step-six.webp"

alt="Opção para adicionar novos computadores."

align="center"

%}

7 - No campo “Nome do Computador”, digite o endereço de IP do computador remoto. Mais uma vez, use o endereço externo para uma máquina que será acessada pela internet, ou um IP interno para uma máquina na mesma rede. E caso tenha modificado a porta externa para um valor diferente de 3389, indique a nova porta adicionando :&lt;porta externa&gt;, por exemplo: 122.122.122.122:55001;

{% include post_img.html

png="/assets/imgs_posts/windows/win-rdp/win-rdp-remote-desktop-app-step-seven.png"

webp="/assets/imgs_posts/windows/win-rdp/win-rdp-remote-desktop-app-step-seven.webp"

alt="Adicionando o nome do computador."

align="center"

%}

8 - No campo “Conta do Usuário”, é possível selecionar um usuário já cadastrado em algum momento, mesmo que para máquinas diferentes;

{% include post_img.html

png="/assets/imgs_posts/windows/win-rdp/win-rdp-remote-desktop-app-step-eight.png"

webp="/assets/imgs_posts/windows/win-rdp/win-rdp-remote-desktop-app-step-eight.webp"

alt="Selecionando a conta do usuário."

align="center"

%}

9 - Na tela “Adicionar uma Conta”, coloque o nome de usuário e senha e pressione “Enter”. Essas informações são usadas para fazer o login no computador remoto. Você pode salvar quantas contas você quiser e selecionar a conta apropriada quando for realizar a conexão;

{% include post_img.html

png="/assets/imgs_posts/windows/win-rdp/win-rdp-remote-desktop-app-step-nine.png"

webp="/assets/imgs_posts/windows/win-rdp/win-rdp-remote-desktop-app-step-nine.webp"

alt="Adicionando uma nova conta."

align="center"

%}

10 - De volta a tela “Editar uma Computador” - sim, tem um erro de digitação - pressione a tecla “Enter” para adicionar essa configuração, ou clique em “Salvar”;

{% include post_img.html

png="/assets/imgs_posts/windows/win-rdp/win-rdp-remote-desktop-app-step-ten.png"

webp="/assets/imgs_posts/windows/win-rdp/win-rdp-remote-desktop-app-step-ten.webp"

alt="A conta configurada foi selecionada."

align="center"

%}

11 - Clique na configuração que acabou de adicionar para iniciar a conexão;

{% include post_img.html

png="/assets/imgs_posts/windows/win-rdp/win-rdp-remote-desktop-app-step-eleven.png"

webp="/assets/imgs_posts/windows/win-rdp/win-rdp-remote-desktop-app-step-eleven.webp"

alt="O computador recém adicionado é exibido na tela inicial do Área de Trabalho Remota."

align="center"

%}

12 - Confirme a conexão se necessário.

Agora, deve aparecer exatamente a mesma coisa que aparece na tela do computador remoto. Você pode interagir com todos os programas, pastas e arquivos desse computador como se estivesse mesmo na frente dele.

## E se não Conectar?

Se mesmo depois de seguir corretamente todos os passos descritos você não conseguir se conectar, tente as soluções a seguir:

**Desbloqueie a porta junto ao provedor de internet**: é possível que o seu provedor esteja impedindo a conexão por motivos de segurança. Entre em contato com o provedor para resolver o problema;

**Prefira o endereço IP ao nome da máquina**: em teoria, você pode utilizar o nome do computador remoto para se conectar a ele quando estiver na mesma rede privada. Porém, por esse método pode ser que o seu computador não encontre o computador que você está tentando se conectar. Isso acontece pois o computador precisa identificar o endereço de IP interno, que corresponde ao nome da máquina, indicada em um registro antes de se conectar. Caso esse registro esteja desatualizado, o seu PC pode não encontrar o computador remoto.

**Opte pela utilização do IPv4**: o Windows 10 pode utilizar ambos o Internet Protocol Version 4 e a Version 6. mas as vezes, ele irá preferir se conectar usando o IPv6, o que pode causar alguns problemas com o RDP.

Para definir o IPv4 como padrão no Windows 10 use os passos abaixo:

1 - Clique no botão ”Iniciar” , digite “Painel de Controle” e pressione “Enter”;

2 - Selecione “Rede e Internet”;

{% include post_img.html

png="/assets/imgs_posts/windows/win-rdp/win-rdp-force-ipv4-step-two.png"

webp="/assets/imgs_posts/windows/win-rdp/win-rdp-force-ipv4-step-two.webp"

alt="Todas opções do Painel de Controle divididos por categorias."

align="center"

%}

3 - Clique em “Central de Rede e Compartilhamento ”;

{% include post_img.html

png="/assets/imgs_posts/windows/win-rdp/win-rdp-force-ipv4-step-three.png"

webp="/assets/imgs_posts/windows/win-rdp/win-rdp-force-ipv4-step-three.webp"

alt="Opções contidas na categoria Rede e Internet."

align="center"

%}

4 - Clique em “Alterar as Configurações do Adaptador” do painel de navegação a esquerda;

{% include post_img.html

png="/assets/imgs_posts/windows/win-rdp/win-rdp-force-ipv4-step-four.png"

webp="/assets/imgs_posts/windows/win-rdp/win-rdp-force-ipv4-step-four.webp"

alt="A opção Alterar as configurações de compartilhamento avançadas na Central de Rede e Compartilhamento é apontada com uma seta."

align="center"

%}

5 - Clique com o botão direito no adaptador ativo e selecione a opção “Propriedades”;

6 - Desmarque a opção relativa ao IPv6;

{% include post_img.html

png="/assets/imgs_posts/windows/win-rdp/win-rdp-force_ipv4_step_six.png"

webp="/assets/imgs_posts/windows/win-rdp/win-rdp-force_ipv4_step_six.webp"

alt="Lista de propriedades da rede WiFi. Há uma caixa quadrada do lado de cada opção que permite ativar ou desativar cada uma"

align="center"

%}

7 - Clique em “OK”;

8 - Reinicie o computador.

Se tudo correu bem, você já deve ser capaz de se conectar remotamente ao computador remoto que você quer controlar.